<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>entities</title><meta name="description" content="Documentation for entities"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">entities</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>entities</h1></div><div class="tsd-panel tsd-typography"><h1 id="entities-npm-version-downloads-nodejs-ci" class="tsd-anchor-link">entities <a href="https://npmjs.org/package/entities"><img src="https://img.shields.io/npm/v/entities.svg" alt="NPM version"></a> <a href="https://npmjs.org/package/entities"><img src="https://img.shields.io/npm/dm/entities.svg" alt="Downloads"></a> <a href="https://github.com/fb55/entities/actions/workflows/nodejs-test.yml"><img src="https://github.com/fb55/entities/actions/workflows/nodejs-test.yml/badge.svg" alt="Node.js CI"></a><a href="#entities-npm-version-downloads-nodejs-ci" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Encode &amp; decode HTML &amp; XML entities with ease &amp; speed.</p>
<h2 id="features" class="tsd-anchor-link">Features<a href="#features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>üòá Tried and true: <code>entities</code> is used by many popular libraries; eg.
<a href="https://github.com/fb55/htmlparser2"><code>htmlparser2</code></a>, the official
<a href="https://github.com/aws/aws-sdk-js-v3">AWS SDK</a> and
<a href="https://github.com/commonmark/commonmark.js"><code>commonmark</code></a> use it to process
HTML entities.</li>
<li>‚ö°Ô∏è Fast: <code>entities</code> is the fastest library for decoding HTML entities (as of
April 2022); see <a href="#performance">performance</a>.</li>
<li>üéõ Configurable: Get an output tailored for your needs. You are fine with
UTF8? That'll save you some bytes. Prefer to only have ASCII characters? We
can do that as well!</li>
</ul>
<h2 id="how-to" class="tsd-anchor-link">How to‚Ä¶<a href="#how-to" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="install-entities" class="tsd-anchor-link">‚Ä¶install <code>entities</code><a href="#install-entities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code>npm install entities
</code></pre>
<h3 id="use-entities" class="tsd-anchor-link">‚Ä¶use <code>entities</code><a href="#use-entities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">entities</span><span class="hl-1"> = </span><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">&quot;entities&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-5">// Encoding</span><br/><span class="hl-6">entities</span><span class="hl-1">.</span><span class="hl-3">escapeUTF8</span><span class="hl-1">(</span><span class="hl-4">&quot;&amp;#38; √º&quot;</span><span class="hl-1">); </span><span class="hl-5">// &quot;&amp;amp;#38; √º&quot;</span><br/><span class="hl-6">entities</span><span class="hl-1">.</span><span class="hl-3">encodeXML</span><span class="hl-1">(</span><span class="hl-4">&quot;&amp;#38; √º&quot;</span><span class="hl-1">); </span><span class="hl-5">// &quot;&amp;amp;#38; &amp;#xfc;&quot;</span><br/><span class="hl-6">entities</span><span class="hl-1">.</span><span class="hl-3">encodeHTML</span><span class="hl-1">(</span><span class="hl-4">&quot;&amp;#38; √º&quot;</span><span class="hl-1">); </span><span class="hl-5">// &quot;&amp;amp;&amp;num;38&amp;semi; &amp;uuml;&quot;</span><br/><br/><span class="hl-5">// Decoding</span><br/><span class="hl-6">entities</span><span class="hl-1">.</span><span class="hl-3">decodeXML</span><span class="hl-1">(</span><span class="hl-4">&quot;asdf &amp;amp; &amp;#xFF; &amp;#xFC; &amp;apos;&quot;</span><span class="hl-1">); </span><span class="hl-5">// &quot;asdf &amp; √ø √º &#39;&quot;</span><br/><span class="hl-6">entities</span><span class="hl-1">.</span><span class="hl-3">decodeHTML</span><span class="hl-1">(</span><span class="hl-4">&quot;asdf &amp;amp; &amp;yuml; &amp;uuml; &amp;apos;&quot;</span><span class="hl-1">); </span><span class="hl-5">// &quot;asdf &amp; √ø √º &#39;&quot;</span>
</code><button type="button">Copy</button></pre>

<h2 id="performance" class="tsd-anchor-link">Performance<a href="#performance" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This is how <code>entities</code> compares to other libraries on a very basic benchmark
(see <code>scripts/benchmark.ts</code>, for 10,000,000 iterations; <strong>lower is better</strong>):</p>
<table>
<thead>
<tr>
<th>Library</th>
<th>Version</th>
<th><code>decode</code> perf</th>
<th><code>encode</code> perf</th>
<th><code>escape</code> perf</th>
</tr>
</thead>
<tbody>
<tr>
<td>entities</td>
<td><code>3.0.1</code></td>
<td>1.418s</td>
<td>6.786s</td>
<td>2.196s</td>
</tr>
<tr>
<td>html-entities</td>
<td><code>2.3.2</code></td>
<td>2.530s</td>
<td>6.829s</td>
<td>2.415s</td>
</tr>
<tr>
<td>he</td>
<td><code>1.2.0</code></td>
<td>5.800s</td>
<td>24.237s</td>
<td>3.624s</td>
</tr>
<tr>
<td>parse-entities</td>
<td><code>3.0.0</code></td>
<td>9.660s</td>
<td>N/A</td>
<td>N/A</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="faq" class="tsd-anchor-link">FAQ<a href="#faq" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><blockquote>
<p>What methods should I actually use to encode my documents?</p>
</blockquote>
<p>If your target supports UTF-8, the <code>escapeUTF8</code> method is going to be your best
choice. Otherwise, use either <code>encodeHTML</code> or <code>encodeXML</code> based on whether
you're dealing with an HTML or an XML document.</p>
<p>You can have a look at the options for the <code>encode</code> and <code>decode</code> methods to see
everything you can configure.</p>
<blockquote>
<p>When should I use strict decoding?</p>
</blockquote>
<p>When strict decoding, entities not terminated with a semicolon will be ignored.
This is helpful for decoding entities in legacy environments.</p>
<blockquote>
<p>Why should I use <code>entities</code> instead of alternative modules?</p>
</blockquote>
<p>As of April 2022, <code>entities</code> is a bit faster than other modules. Still, this is
not a very differentiated space and other modules can catch up.</p>
<p><strong>More importantly</strong>, you might already have <code>entities</code> in your dependency graph
(as a dependency of eg. <code>cheerio</code>, or <code>htmlparser2</code>), and including it directly
might not even increase your bundle size. The same is true for other entity
libraries, so have a look through your <code>node_modules</code> directory!</p>
<blockquote>
<p>Does <code>entities</code> support tree shaking?</p>
</blockquote>
<p>Yes! <code>entities</code> ships as both a CommonJS and a ES module. Note that for best
results, you should not use the <code>encode</code> and <code>decode</code> functions, as they wrap
around a number of other functions, all of which will remain in the bundle.
Instead, use the functions that you need directly.</p>
<hr>
<h2 id="acknowledgements" class="tsd-anchor-link">Acknowledgements<a href="#acknowledgements" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This library wouldn't be possible without the work of these individuals. Thanks
to</p>
<ul>
<li><a href="https://github.com/mathiasbynens">@mathiasbynens</a> for his explanations about
character encodings, and his library <code>he</code>, which was one of the inspirations
for <code>entities</code></li>
<li><a href="https://github.com/inikulin">@inikulin</a> for his work on optimized tries for
decoding HTML entities for the <code>parse5</code> project</li>
<li><a href="https://github.com/mdevils">@mdevils</a> for taking on the challenge of
producing a quick entity library with his <code>html-entities</code> library. <code>entities</code>
would be quite a bit slower if there wasn't any competition. Right now
<code>entities</code> is on top, but we'll see how long that lasts!</li>
</ul>
<hr>
<p>License: BSD-2-Clause</p>
<h2 id="security-contact-information" class="tsd-anchor-link">Security contact information<a href="#security-contact-information" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>To report a security vulnerability, please use the
<a href="https://tidelift.com/security">Tidelift security contact</a>. Tidelift will
coordinate the fix and disclosure.</p>
<h2 id="entities-for-enterprise" class="tsd-anchor-link"><code>entities</code> for enterprise<a href="#entities-for-enterprise" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Available as part of the Tidelift Subscription</p>
<p>The maintainers of <code>entities</code> and thousands of other packages are working with
Tidelift to deliver commercial support and maintenance for the open source
dependencies you use to build your applications. Save time, reduce risk, and
improve code health, while paying the maintainers of the exact dependencies you
use.
<a href="https://tidelift.com/subscription/pkg/npm-entities?utm_source=npm-entities&amp;utm_medium=referral&amp;utm_campaign=enterprise&amp;utm_term=repo">Learn more.</a></p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#entities-npm-version-downloads-nodejs-ci"><span>entities <wbr/>NPM version <wbr/>Downloads <wbr/>Node.js <wbr/>CI</span></a><ul><li><a href="#features"><span>Features</span></a></li><li><a href="#how-to"><span>How to‚Ä¶</span></a></li><li><ul><li><a href="#install-entities"><span>‚Ä¶install entities</span></a></li><li><a href="#use-entities"><span>‚Ä¶use entities</span></a></li></ul></li><li><a href="#performance"><span>Performance</span></a></li><li><a href="#faq"><span>FAQ</span></a></li><li><a href="#acknowledgements"><span>Acknowledgements</span></a></li><li><a href="#security-contact-information"><span>Security contact information</span></a></li><li><a href="#entities-for-enterprise"><span>entities for enterprise</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">entities</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer></footer><div class="overlay"></div></body></html>
